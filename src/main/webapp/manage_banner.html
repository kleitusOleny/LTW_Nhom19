<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản Lí Banner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="popup.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css"/>
    <link rel="stylesheet" href="css/manage_banner_style.css">
</head>

<body>
<div class="dashboard-container">
    <nav class="dashboard-sidebar">
        <ul class="sidebar-items">
            <div class="group-avatar"><img src="assets/avatar.jpg" class="user-avatar" id="avatar-modal-btn"/>
                <ion-icon name="notifications-outline" class="icon-header" id="notification-modal-btn"></ion-icon>
            </div>
            <li><a href="admin_dashboard.html" class="a-with-icon">
                <ion-icon name="home-outline"></ion-icon>
                Trang Chủ</a></li>
            <li><a href="manage_product.html" class="a-with-icon">
                <ion-icon name="bag-remove-outline"></ion-icon>
                Quản Lí Sản Phẩm</a></li>
            <li><a href="manage_accounts.html" class="a-with-icon">
                <ion-icon name="people-outline"></ion-icon>
                Quản Lí Tài Khoản Khách</a></li>
            <li><a href="manage_orders.html" class="a-with-icon">
                <ion-icon name="cart-outline"></ion-icon>
                Quản Lí Đơn Hàng</a></li>
            <li><a href="#" class="a-with-icon selected">
                <ion-icon name="albums"></ion-icon>
                Quản Lí Banner</a></li>
            <li><a href="manage_blog.html" class="a-with-icon">
                <ion-icon name="reader-outline"></ion-icon>
                Quản Lí Blog và Tin Tức</a></li>
            <li><a href="manage_promotions.html" class="a-with-icon">
                <ion-icon name="ticket-outline"></ion-icon>
                Quản Lí Mã Giảm Giá và Khuyến Mãi</a></li>
            <li><a href="charts.html" class="a-with-icon">
                <ion-icon name="stats-chart-outline"></ion-icon>
                Thống Kê</a></li>
        </ul>
        <div class="text">━ Được update tới 2025 ━</div>
    </nav>
    <div class="dashboard-content">
        <main class="dashboard-main-content">

            <div class="main-header">
                <h1>Quản Lí Slideshow Trang Chủ</h1>
                <div class="header-actions">
                    <button class="btn btn-danger" id="delete-selected-btn">
                        <ion-icon name="trash-outline"></ion-icon>
                        Xóa (Đã chọn)
                    </button>
                    <label for="excel-file-input" class="btn btn-secondary">
                        <ion-icon name="cloud-upload-outline"></ion-icon>
                        Nhập từ Excel
                        <input type="file" id="excel-file-input" accept=".xlsx, .xls" class="hidden-file-input">
                    </label>

                    <button class="btn btn-primary" id="add-banner-btn">
                        <ion-icon name="add-outline"></ion-icon>
                        Thêm Banner
                    </button>
                </div>
            </div>

            <div class="table-container">
                <table id="banner-datatable" class="product-table">
                    <thead>
                    <tr class="sample">
                        <th class="col-tick">Chọn</th>
                        <th class="col-id">ID Banner</th>
                        <th class="col-img">Ảnh Banner</th>
                        <th class="col-link">Link Đích</th>
                        <th class="col-date">Ngày Sự Kiện</th>
                        <th class="col-duration">T/g Tồn Tại</th>
                        <th class="col-status">Trạng Thái</th>
                        <th class="col-action">Hành Động</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="row">
                        <td class="cell-tick"><input type="checkbox" class="row-checkbox"/></td>
                        <td class="cell-id">MAIN_BANNER</td>
                        <td class="cell-img">
                            <img class="banner-preview" src="assets/main_banner.jpg" alt="Banner Preview">
                        </td>
                        <td class="cell-link">
                            <a href="#" title="/store?promo=sale11">/index.html</a>
                        </td>
                        <td class="cell-date">2025-11-10</td>
                        <td class="cell-duration" style="text-align: center;">5</td>
                        <td class="cell-status" style="text-align: center;">
                            <span class="status-badge active">Active</span>
                        </td>
                        <td>
                            <div class="cell-action">
                                <button class="edit btn" id="edit-modal-btn-1">Sửa</button>
                                <button class="delete btn" id="del-modal-btn-1">Xoá</button>
                            </div>
                        </td>
                    </tr>

                    <tr class="row">
                        <td class="cell-tick"><input type="checkbox" class="row-checkbox"/></td>
                        <td class="cell-id">BANNER_VANG_BORDEAUX</td>
                        <td class="cell-img">
                            <img class="banner-preview" src="assets/banner-vang-bordeaux.jpg" alt="Banner Preview">
                        </td>
                        <td class="cell-link">
                            <a href="#" title="/store?category=new">/store?category=bordeaux</a>
                        </td>
                        <td class="cell-date">2025-11-01</td>
                        <td class="cell-duration" style="text-align: center;">30</td>
                        <td class="cell-status" style="text-align: center;">
                            <span class="status-badge active">Active</span>
                        </td>
                        <td>
                            <div class="cell-action">
                                <button class="edit btn">Sửa</button>
                                <button class="delete btn">Xoá</button>
                            </div>
                        </td>
                    </tr>

                    <tr class="row">
                        <td class="cell-tick"><input type="checkbox" class="row-checkbox"/></td>
                        <td class="cell-id">BANNER_VANG_BOURGOGNE</td>
                        <td class="cell-img">
                            <img class="banner-preview" src="assets/banner-vang-bourgogne.jpg" alt="Banner Preview">
                        </td>
                        <td class="cell-link">
                            <a href="#" title="/blog/post-1">/store?category=bourgogne</a>
                        </td>
                        <td class="cell-date">2025-10-01</td>
                        <td class="cell-duration" style="text-align: center;">10</td>
                        <td class="cell-status" style="text-align: center;">
                            <span class="status-badge inactive">Inactive</span>
                        </td>
                        <td>
                            <div class="cell-action">
                                <button class="edit btn">Sửa</button>
                                <button class="delete btn">Xoá</button>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

        </main>
    </div>
    <div class="modal-overlay-notification" id="notification-account-modal">
        <div class="modal-content-notification">
            <div class="group-notification">
                <h2 class="notification-title">Thông báo</h2>
                <button class="modal-close" id="close-modal-btn8">
                    <ion-icon name="close-outline"></ion-icon>
                </button>
            </div>
            <div class="notification-empty-state">
                <ion-icon name="notifications-off-outline"></ion-icon>
                <p>Hiện tại chưa có thông báo mới</p>
            </div>
        </div>
    </div>
    <div class="modal-overlay-avatar" id="avatar-account-modal">
        <div class="modal-content-avatar">
            <button class="modal-close2" id="close-modal-btn9">
                <ion-icon name="close-outline"></ion-icon>
            </button>
            <button class="btn-menu-item">
                <ion-icon name="person-circle-outline"></ion-icon>
                <span>Trở về trang người dùng</span>
            </button>
            <button class="btn-menu-item">
                <ion-icon name="log-out-outline"></ion-icon>
                <span>Đăng xuất tài khoản</span>
            </button>
        </div>
    </div>
</div>

<div class="modal-overlay-form" id="delete-confirm-modal" style="--modal-width: 450px;">
    <div class="modal-content-form">
        <button class="modal-close-form" id="close-delete-btn">
            <ion-icon name="close-outline"></ion-icon>
        </button>
        <h2 class="modal-confirm-title">
            <ion-icon name="warning-outline"></ion-icon>
            Xác nhận xóa
        </h2>
        <p class="modal-confirm-text">Bạn có chắc chắn muốn xóa Banner này không? Hành động này không thể hoàn tác.</p>
        <div class="form-actions">
            <button type="button" class="btn btn-secondary" id="cancel-delete-btn">Hủy Bỏ</button>
            <button type="button" class="btn btn-danger" id="ac-delete-btn">Xác Nhận Xóa</button>
        </div>
    </div>
</div>
<div class="modal-overlay-form" id="banner-form-modal">
    <div class="modal-content-form">
        <button class="modal-close-form" id="close-form-btn">
            <ion-icon name="close-outline"></ion-icon>
        </button>
        <h2>Thêm / Cập Nhật Banner</h2>

        <form action="#">
            <div class="form-group">
                <label for="banner-id">ID BANNER</label>
                <input type="text" id="banner-id" placeholder="VD: MAIN_BANNER">
            </div>

            <div class="form-group">
                <label for="banner-link">LINK ĐÍCH</label>
                <input type="text" id="banner-link" placeholder="VD: /index.html hoặc /store?category=...">
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label for="banner-date">NGÀY SỰ KIỆN</label>
                    <input type="date" id="banner-date">
                </div>

                <div class="form-group">
                    <label for="banner-duration">T/G TỒN TẠI (Ngày)</label>
                    <input type="number" id="banner-duration" placeholder="VD: 5" min="0">
                </div>

                <div class="form-group">
                    <label for="banner-status">TRẠNG THÁI</label>
                    <select id="banner-status"
                            style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; background: #fff;">
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="banner-image">ẢNH BANNER</label>
                <div class="file-upload-wrapper">
                    <input type="file" id="banner-image" class="file-upload-input" accept="image/png, image/jpeg">
                    <label for="banner-image" class="file-upload-label">
                        <ion-icon name="cloud-upload-outline"></ion-icon>
                        <span>Nhấn để tải banner lên</span>
                    </label>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancel-form-btn">Hủy Bỏ</button>
                <button type="submit" class="btn btn-primary" id="ac-form-btn">Lưu Banner</button>
            </div>
        </form>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/2.0.8/js/dataTables.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        setupModal('notification-account-modal', 'notification-modal-btn', 'close-modal-btn8');
        setupModal('avatar-account-modal', 'avatar-modal-btn', 'close-modal-btn9');

        setupModal('delete-confirm-modal', 'delete-selected-btn', 'cancel-delete-btn')
        setupModal('delete-confirm-modal', 'delete-selected-btn', 'ac-delete-btn')
        setupModal('delete-confirm-modal', 'delete-selected-btn', 'close-delete-btn')

        setupModal('banner-form-modal', 'add-banner-btn', 'close-form-btn')
        setupModal('banner-form-modal', 'add-banner-btn', 'cancel-form-btn')
        setupModal('banner-form-modal', 'add-banner-btn', 'ac-form-btn')

        setupModal('banner-form-modal', 'edit-modal-btn-1', 'close-form-btn')
        setupModal('delete-confirm-modal', 'del-modal-btn-1', 'close-delete-btn')
        $(document).ready(function () {
            $('#banner-datatable').DataTable({
                // Tắt sắp xếp cho cột Ảnh và Hành động
                "columnDefs": [
                    {
                        "orderable": false,
                        "targets": [2, 7]
                    }
                ],
                "language": {
                    "search": "Tìm kiếm:",
                    "lengthMenu": "Hiển thị _MENU_ mục",
                    "info": "Hiển thị từ _START_ đến _END_ của _TOTAL_ mục",
                    "infoEmpty": "Không tìm thấy mục nào",
                    "infoFiltered": "(được lọc từ _MAX_ mục)",
                    "zeroRecords": "Không tìm thấy dữ liệu",
                    "paginate": {
                        "first": "<ion-icon name='play-skip-back-outline'></ion-icon>",
                        "last": "<ion-icon name='play-skip-forward-outline'></ion-icon>",
                        "next": "<ion-icon name='chevron-forward-outline'></ion-icon>",
                        "previous": "<ion-icon name='chevron-back-outline'></ion-icon>"
                    }
                }
            });
        });
    });
</script>
</body>
</html>